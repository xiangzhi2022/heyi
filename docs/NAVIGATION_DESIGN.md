# 导航系统设计规范

## 📋 职责划分

### GlobalSidebar（全局侧边栏）
**定位**: 主要导航 - 页面级跳转

**职责**:
- ✅ 主要页面导航（首页、市场、排行榜等）
- ✅ 用户账户入口（个人中心、设置）
- ✅ Logo 和品牌展示
- ✅ 主题切换（桌面端）
- ✅ 始终可见（桌面端固定，移动端可收起）

**显示场景**:
- 桌面端：始终显示在左侧
- 移动端：通过汉堡菜单触发

---

### Navbar（顶部导航栏）
**定位**: 功能导航 - 操作级交互

**职责**:
- ✅ 全局搜索功能
- ✅ 通知中心
- ✅ 钱包连接状态
- ✅ 快捷操作按钮
- ✅ 面包屑导航（可选）
- ✅ 主题切换（移动端）

**显示场景**:
- 需要搜索功能的页面（市场、排行榜）
- 需要快捷操作的页面
- 可选择性使用，不是所有页面都需要

---

## 🎯 使用策略

### 页面级别配置

| 页面 | GlobalSidebar | Navbar | 说明 |
|------|--------------|--------|------|
| 首页 | ✅ | ❌ | 简洁展示，无需顶部导航 |
| 版权市场 | ✅ | ✅ | 需要搜索和筛选 |
| 排行榜 | ✅ | ✅ | 需要搜索功能 |
| 作品详情 | ✅ | ✅ | 需要面包屑和快捷操作 |
| 个人中心 | ✅ | ✅ | 需要快捷操作 |
| 品牌故事 | ✅ | ❌ | 内容展示页面 |
| 帮助中心 | ✅ | ✅ | 需要搜索功能 |
| 设置 | ✅ | ❌ | 专注设置界面 |

---

## 📱 响应式策略

### 桌面端（≥1024px）
```
┌─────────────────────────────────────┐
│ GlobalSidebar │ Navbar (可选)       │
│ (固定左侧)    │ ┌─────────────────┐ │
│               │ │ 搜索 | 通知 | 钱包│ │
│ • 首页        │ └─────────────────┘ │
│ • 市场        │                     │
│ • 排行榜      │   Page Content      │
│ • ...         │                     │
│               │                     │
│ [主题切换]    │                     │
└─────────────────────────────────────┘
```

### 移动端（<1024px）
```
┌─────────────────────────────────────┐
│ Navbar                              │
│ [☰] Logo  [🔍] [🔔] [💼] [🌙]      │
├─────────────────────────────────────┤
│                                     │
│         Page Content                │
│                                     │
│                                     │
└─────────────────────────────────────┘

点击 [☰] 后:
┌─────────────────────────────────────┐
│ GlobalSidebar (Overlay)             │
│ ┌─────────────────────────────────┐ │
│ │ • 首页                          │ │
│ │ • 市场                          │ │
│ │ • 排行榜                        │ │
│ │ • ...                           │ │
│ │                                 │ │
│ │ [关闭]                          │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

---

## 🔧 实现建议

### 1. 页面级别控制 Navbar 显示

```jsx
// 在页面组件中
const Marketplace = () => {
  return (
    <>
      <Navbar showSearch showNotifications showWallet />
      <div className="content">
        {/* 页面内容 */}
      </div>
    </>
  );
};

// 或使用布局组件
const MarketplaceLayout = ({ children }) => {
  return (
    <>
      <Navbar config={{ search: true, notifications: true, wallet: true }} />
      {children}
    </>
  );
};
```

### 2. GlobalSidebar 配置化

```jsx
// GlobalSidebar.jsx
const GlobalSidebar = ({ 
  showThemeToggle = true,  // 是否显示主题切换
  compact = false,         // 紧凑模式
  items = defaultNavItems  // 自定义导航项
}) => {
  // ...
};
```

### 3. 避免功能重叠

**GlobalSidebar 专注于**:
- 页面导航
- 用户身份展示
- 品牌展示

**Navbar 专注于**:
- 搜索
- 通知
- 钱包
- 页面级操作

**不重复的功能**:
- 主题切换：桌面端在 GlobalSidebar，移动端在 Navbar
- 用户菜单：GlobalSidebar 显示头像和名称，Navbar 可显示快捷操作

---

## 🎨 视觉协调

### 颜色和样式
- **GlobalSidebar**: 深色背景，强调导航层级
- **Navbar**: 半透明毛玻璃效果，融入页面

### 交互反馈
- **GlobalSidebar**: 导航项高亮当前页面
- **Navbar**: 操作按钮提供即时反馈

### Z-index 层级
```css
GlobalSidebar: z-index: 40
Navbar: z-index: 50
Modal/Overlay: z-index: 60
Toast: z-index: 100
```

---

## ✅ 检查清单

实现时确保：
- [ ] 每个页面明确是否需要 Navbar
- [ ] 移动端和桌面端导航体验一致
- [ ] 主题切换在不同设备上只出现一次
- [ ] 搜索功能不与页面内筛选冲突
- [ ] 通知中心在所有需要的页面可访问
- [ ] 钱包连接状态全局共享

---

*文档版本: v1.0*
*更新时间: 2025-12-04*
